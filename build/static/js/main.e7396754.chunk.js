(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(6),s=a.n(c),u=(a(11),a(2)),i=a.n(u),o=a(4),p=a(3),l=(a(13),"199ecfda-a1f8-463f-89bb-7a698b36b2a1"),d="17ed73f7-f174-415f-89e2-154025a1b5da",b="e743df97-33d9-40f2-a03d-273873dfcd7e",f="6eba5869-2dba-43ad-9fa5-bc60fab6abe9",h="ac255d90-c971-4d69-baa5-be6e6916d255",m="a630a2b6-398e-46ea-b4ce-d019b8afc2a5",j="71442048-a860-49aa-b1c5-a163a3496fdd",g="74ad860b-8e24-4e50-a352-116bb46fd172",x="65ee7354-0f62-4c98-8673-18a3e932a886";function O(e){return new TextDecoder("utf-8").decode(e.buffer)}function v(e){return e.getFloat32(0)}function y(){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(i.a.mark((function e(){var t,a,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.bluetooth){e.next=2;break}throw new Error("Bluetooth is not supported by this browser");case 2:return e.next=4,navigator.bluetooth.requestDevice({filters:[{services:[l]}]});case 4:return t=e.sent,e.next=7,t.gatt.connect();case 7:return a=e.sent,e.next=10,a.getPrimaryService(l);case 10:return r=e.sent,e.next=13,r.getCharacteristic(d);case 13:return e.t0=e.sent,e.next=16,r.getCharacteristic(b);case 16:return e.t1=e.sent,e.next=19,r.getCharacteristic(f);case 19:return e.t2=e.sent,e.next=22,r.getCharacteristic(h);case 22:return e.t3=e.sent,e.next=25,r.getCharacteristic(m);case 25:return e.t4=e.sent,e.next=28,r.getCharacteristic(j);case 28:return e.t5=e.sent,e.next=31,r.getCharacteristic(g);case 31:return e.t6=e.sent,e.next=34,r.getCharacteristic(x);case 34:return e.t7=e.sent,n={tempIn1:e.t0,tempIn2:e.t1,tempOut1:e.t2,tempOut2:e.t3,tempTarget:e.t4,voltage:e.t5,batteryStatus:e.t6,coolingMode:e.t7},e.abrupt("return",{getData:function(){return Object(o.a)(i.a.mark((function e(){var t,a,r,c,s,u,o,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.tempIn1.readValue(),n.tempIn2.readValue(),n.tempOut1.readValue(),n.tempOut2.readValue(),n.tempTarget.readValue(),n.voltage.readValue(),n.batteryStatus.readValue(),n.coolingMode.readValue()]);case 2:return t=e.sent,a=Object(p.a)(t,8),r=a[0],c=a[1],s=a[2],u=a[3],o=a[4],l=a[5],d=a[6],a[7],e.abrupt("return",{tempIn1:v(r),tempIn2:v(c),tempOut1:v(s),tempOut2:v(u),tempTarget:v(o),voltage:v(l),batteryStatus:O(d),coolingMode:O(d)});case 13:case"end":return e.stop()}}),e)})))()}});case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=a(0);var I=function(){var e=n.a.useState(null),t=Object(p.a)(e,2),a=t[0],r=t[1],c=n.a.useState("user-click"),s=Object(p.a)(c,2),u=s[0],l=s[1],d=n.a.useState(null),b=Object(p.a)(d,2),f=b[0],h=b[1],m=n.a.useState({batteryStatus:"test",coolingMode:"test",tempIn1:0,tempIn2:0,tempOut1:0,tempOut2:0,tempTarget:0,voltage:0}),j=Object(p.a)(m,2),g=j[0],x=j[1];function O(){return(O=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l("connecting"),e.prev=1,e.next=4,y();case 4:t=e.sent,h(t),l("connected"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function v(){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getData();case 2:t=e.sent,x(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n.a.useEffect((function(){if(f){var e=setInterval(v,1e4);return function(){return clearInterval(e)}}}),[f,v]),Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)("h1",{children:"K\xfchlschrank"}),null!==a&&Object(C.jsxs)("p",{children:["Fehler: ",a]}),"connecting"===u&&Object(C.jsx)(C.Fragment,{children:"verbinde..."}),"user-click"===u&&Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("button",{onClick:function(){return O.apply(this,arguments)},children:"Start"})}),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("p",{children:["Zieltemparatur: ",g.tempTarget,"\xb0C"]}),Object(C.jsxs)("p",{children:["Innentemparatur: ",g.tempIn1,"\xb0C / ",g.tempIn2,"\xb0C"]}),Object(C.jsxs)("p",{children:["Au\xdfentemparatur: ",g.tempOut1,"\xb0C / ",g.tempOut2,"\xb0C"]}),Object(C.jsxs)("p",{children:["Spannung: ",g.voltage,"V"]}),Object(C.jsxs)("p",{children:["Batteriezustand: ",g.batteryStatus]}),Object(C.jsxs)("p",{children:["Modus: ",g.coolingMode]})]})]})};s.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(I,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.e7396754.chunk.js.map