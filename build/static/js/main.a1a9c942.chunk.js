(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(6),s=a.n(c),u=(a(11),a(2)),i=a.n(u),l=a(4),d=a(3),v=(a(13),"199ecfda-a1f8-463f-89bb-7a698b36b2a1"),o="17ed73f7-f174-415f-89e2-154025a1b5da",b="e743df97-33d9-40f2-a03d-273873dfcd7e",p="6eba5869-2dba-43ad-9fa5-bc60fab6abe9",j="ac255d90-c971-4d69-baa5-be6e6916d255",m="a630a2b6-398e-46ea-b4ce-d019b8afc2a5",h="71442048-a860-49aa-b1c5-a163a3496fdd",f="74ad860b-8e24-4e50-a352-116bb46fd172";function x(e){return new TextDecoder("utf-8").decode(e.buffer)}function O(e){return e.getFloat32(0)}function g(){return _.apply(this,arguments)}function _(){return(_=Object(l.a)(i.a.mark((function e(){var t,a,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.bluetooth){e.next=2;break}throw new Error("Bluetooth wird vom Browser nicht unterst\xfctzt");case 2:return e.next=4,navigator.bluetooth.requestDevice({filters:[{services:[v]}]});case 4:return t=e.sent,e.next=7,t.gatt.connect();case 7:return a=e.sent,e.next=10,a.getPrimaryService(v);case 10:return r=e.sent,e.next=13,r.getCharacteristic(o);case 13:return e.t0=e.sent,e.next=16,r.getCharacteristic(b);case 16:return e.t1=e.sent,e.next=19,r.getCharacteristic(p);case 19:return e.t2=e.sent,e.next=22,r.getCharacteristic(j);case 22:return e.t3=e.sent,e.next=25,r.getCharacteristic(m);case 25:return e.t4=e.sent,e.next=28,r.getCharacteristic(h);case 28:return e.t5=e.sent,e.next=31,r.getCharacteristic(f);case 31:return e.t6=e.sent,n={tempIn1:e.t0,tempIn2:e.t1,tempOut1:e.t2,tempOut2:e.t3,tempTarget:e.t4,voltage:e.t5,batteryStatus:e.t6},e.abrupt("return",{getData:function(){return Object(l.a)(i.a.mark((function e(){var t,a,r,c,s,u,l,v,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.tempIn1.readValue(),n.tempIn2.readValue(),n.tempOut1.readValue(),n.tempOut2.readValue(),n.tempTarget.readValue(),n.voltage.readValue(),n.batteryStatus.readValue()]);case 2:return t=e.sent,a=Object(d.a)(t,7),r=a[0],c=a[1],s=a[2],u=a[3],l=a[4],v=a[5],o=a[6],e.abrupt("return",{tempIn1:O(r),tempIn2:O(c),tempOut1:O(s),tempOut2:O(u),tempTarget:O(l),voltage:O(v),batteryStatus:x(o),coolingMode:"test"});case 12:case"end":return e.stop()}}),e)})))()}});case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=a(0);var N=function(){var e=n.a.useState(null),t=Object(d.a)(e,2),a=t[0],r=t[1],c=n.a.useState("user-click"),s=Object(d.a)(c,2),u=s[0],v=s[1],o=n.a.useState(null),b=Object(d.a)(o,2),p=b[0],j=b[1],m=n.a.useState({batteryStatus:"test",coolingMode:"test",tempIn1:0,tempIn2:0,tempOut1:0,tempOut2:0,tempTarget:0,voltage:0}),h=Object(d.a)(m,2),f=h[0],x=h[1];function O(){return(O=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v("connecting"),e.prev=1,e.next=4,g();case 4:t=e.sent,j(t),v("connected"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function _(){return N.apply(this,arguments)}function N(){return(N=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getData();case 2:t=e.sent,x(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n.a.useEffect((function(){if(p){var e=setInterval(_,1e4);return function(){return clearInterval(e)}}}),[p,_]),Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)("h1",{children:"K\xfchlschrank"}),null!==a&&Object(y.jsxs)("p",{className:"error",children:["Fehler: ",a]}),"connecting"===u&&Object(y.jsx)(y.Fragment,{children:"verbinde..."}),"user-click"===u&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("button",{onClick:function(){return O.apply(this,arguments)},children:"Ger\xe4t koppeln"})}),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"value",children:[Object(y.jsx)("div",{className:"value__key",children:"Zieltemparatur"}),Object(y.jsxs)("div",{className:"value__value",children:[f.tempTarget,"\xb0"]})]}),Object(y.jsxs)("div",{className:"value value__invert",children:[Object(y.jsx)("div",{className:"value__key",children:"Innentemparatur"}),Object(y.jsxs)("div",{className:"value__value",children:[f.tempIn1,"\xb0 / ",f.tempIn2,"\xb0"]})]}),Object(y.jsxs)("div",{className:"value",children:[Object(y.jsx)("div",{className:"value__key",children:"Au\xdfentemparatur"}),Object(y.jsxs)("div",{className:"value__value",children:[f.tempOut1,"\xb0 / ",f.tempOut2,"\xb0"]})]}),Object(y.jsxs)("div",{className:"value value__invert",children:[Object(y.jsx)("div",{className:"value__key",children:"Spannung"}),Object(y.jsxs)("div",{className:"value__value",children:[f.voltage,"V"]})]}),Object(y.jsxs)("div",{className:"value",children:[Object(y.jsx)("div",{className:"value__key",children:"Batteriezustand"}),Object(y.jsx)("div",{className:"value__value",children:f.batteryStatus})]}),Object(y.jsxs)("div",{className:"value value__invert",children:[Object(y.jsx)("div",{className:"value__key",children:"Modus"}),Object(y.jsx)("div",{className:"value__value",children:f.coolingMode})]})]})]})};s.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(N,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.a1a9c942.chunk.js.map